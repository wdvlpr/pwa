<!DOCTYPE html>
<html>
<head>
  <!-- Responsive -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <!-- Title -->
  <title>PWA Tutorial</title>

  <!-- Meta Tags required for Progressive Web App -->
  <meta name="apple-mobile-web-app-status-bar" content="#aa7700">
  <meta name="theme-color" content="black">

  <!-- Manifest File link -->
  <link rel="manifest" href="manifest.json">

</head>
<body>

  <h1 style="color: green;">W.DVLPR</h1>
  <p>This is a simple tutorial for creating a PWA application. </p>
 
  <script>
    /*
    window.addEventListener('load', () => {
      registerSW();
    });
    */
 
    if('serviceWorker' in navigator) {
      navigator.serviceWorker
               .register('/serviceworker.js')
               .then(function() { 
                  console.log('Service Worker Registered'); 
                })
               .catch(function(e) {
                  if (Notification.permission === 'denied') {
                    console.warn('Permission for notifications was denied');
                  } else {
                    console.error('Unable to subscribe to push', e);
                  }
               });
    }
    /*
    // Register the Service Worker
    async function registerSW() {
      if ('serviceWorker' in navigator) {
        try {
          console.log('SW registration Ok');
          await navigator
                .serviceWorker
                .register('serviceworker.js');
        }
        catch (e) {
          console.log('SW registration failed');
        }
      }
    }
    */
 </script>
 
</body>

</html>
